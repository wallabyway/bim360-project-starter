<style>body {font-family:Arial, Helvetica, sans-serif;} button{padding:15px}</style>
<h1>BIM360 Project Setup</h1>

<hr>
<h4>SETUP</h4>
<li>1. Use Forge clientID <b>rZboPCXwdKnmxeByCWbX7Fz1YGmIjGja</b> and add it to BIM 360 integration page</li>
<li>2. In Forge App configuration, set the callback to `http://localhost:8000/oauth/callback`</li>
<li>3. export CLIENT_ID=1234 & export SECRET=1234 in environment variables</li>

<hr>
<h4>LOGIN</h4>
<li>1. Click login button</li>
<li>2. This will redirect the browser to the CLI callback and provide a BIM360 "Access Token" to the CLI</li>
<li>3. Now the CLI has an ACCESS_TOKEN to run the other operations</li>

<br>
(NOTE: You can use the browser's network console, and grab an access token from the BIM 360 web page, but only for development/testing purposes )

<p id="info" style="border 2px black; background-color:bisque">
	<button><a href="https://developer.api.autodesk.com/authentication/v1/authorize?response_type=token&client_id=d8RvTdcyWYHtiyDVVbj7GVJIeRj6KyIA&redirect_uri=http%3A%2F%2Flocalhost:8080%2Fcallback&scope=data%3Acreate%20account%3Aread%20account%3Awrite%20bucket%3Aread%20user%3Aread%20viewables%3Aread%20data%3Aread%20user-profile%3Aread%20data%3Asearch" 
		style="margin-left:5px"><img src="https://bim360xls.autodesk.io/img/autodesk_text.png" height="20px"/> Sign in</a></button>
</p>

<script>
	if (window.location.hash.length>0) {
		window.location = window.location.href.replace('#','?');
	}
	if (window.location.search.length > 0) {
		const params = Object.fromEntries(new URLSearchParams(location.search))
		console.log( params.access_token );
		document.getElementById("info").innerHTML = `export TOKEN3=${params.access_token}`
	}
</script>

